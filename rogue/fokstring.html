<!DOCTYPE html> <html lang="en"> <head> <script async src="//www.googletagmanager.com/gtag/js?id=UA-109496873-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-109496873-1")</script> <meta charset="utf-8"> <meta content="IE=edge" http-equiv="X-UA-Compatible"> <meta content="width=device-width,initial-scale=1" name="viewport"> <title>Fan of Knives Import – Hero Damage</title> <meta content="Code to simulate Mutilate vs Fan of Knives using SimulationCraft" name="description"> <link href="/assets/img/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon-precomposed" sizes="57x57"> <link href="/assets/img/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="/assets/img/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="/assets/img/favicon/apple-touch-icon-144x144.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="/assets/img/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon-precomposed" sizes="60x60"> <link href="/assets/img/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon-precomposed" sizes="120x120"> <link href="/assets/img/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon-precomposed" sizes="76x76"> <link href="/assets/img/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon-precomposed" sizes="152x152"> <link href="/assets/img/favicon/favicon-196x196.png" rel="icon" type="image/png" sizes="196x196"> <link href="/assets/img/favicon/favicon-96x96.png" rel="icon" type="image/png" sizes="96x96"> <link href="/assets/img/favicon/favicon-32x32.png" rel="icon" type="image/png" sizes="32x32"> <link href="/assets/img/favicon/favicon-16x16.png" rel="icon" type="image/png" sizes="16x16"> <link href="/assets/img/favicon/favicon-128.png" rel="icon" type="image/png" sizes="128x128"> <meta content="Hero Damage" name="application-name"> <meta content="#222222" name="msapplication-TileColor"> <meta content="/assets/img/favicon/mstile-144x144.png" name="msapplication-TileImage"> <meta content="/assets/img/favicon/mstile-70x70.png" name="msapplication-square70x70logo"> <meta content="/assets/img/favicon/mstile-150x150.png" name="msapplication-square150x150logo"> <meta content="/assets/img/favicon/mstile-310x150.png" name="msapplication-wide310x150logo"> <meta content="/assets/img/favicon/mstile-310x310.png" name="msapplication-square310x310logo"> <link href="/assets/style-f5b2f1fe1cb15b207918ae41ca029e125d0da66513ae81d31f268409a28e02c3.css" rel="stylesheet" type="text/css"> <link href="/assets/lib-da504db0703ae6f9940a602f0f1d0296d1993fd4d570478944642e5cf4e33cd9.css" rel="stylesheet" type="text/css"> <script defer src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> <script defer src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script> <script async src="/assets/main-7ce150dd6de1b31f1a281fe5ad24302410234030a159f484eb323d5379ee9d83.js"></script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-5677349133508739",enable_page_level_ads:!0})</script> </head> <body> <header> <nav id="navigation" class="navbar navbar-inverse navbar-static-top"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a href="/" class="navbar-brand" title="Home"> <img src="/assets/img/logo.svg" alt="Hero Damage Logo" height="32" width="32" itemprop="logo"> Hero Damage </a> </div> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <ul class="nav navbar-nav"> <li class="dropdown"> <a href="#" class="dropdown-toggle" title="Combinations" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Combinations <span class="caret"></span> </a> <ul class="dropdown-menu"> <li class="dropdown-header text-center"><b>T21 Mythic</b></li> <li><a href="/rogue/combinations/1t-t21-rogue-assassination-bleed" title="Assassination">Assassination</a></li> <li><a href="/rogue/combinations/1t-t21-rogue-outlaw-roll-the-bones" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/combinations/1t-t21-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>T21 Heroic</b></li> <li><a href="/rogue/combinations/1t-t21h-rogue-assassination-bleed" title="Assassination">Assassination</a></li> <li><a href="/rogue/combinations/1t-t21h-rogue-outlaw-roll-the-bones" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/combinations/1t-t21h-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>T20</b></li> <li><a href="/rogue/combinations/1t-t20-rogue-assassination" title="Assassination">Assassination</a></li> <li><a href="/rogue/combinations/1t-t20-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/combinations/1t-t20-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>T19</b></li> <li><a href="/rogue/combinations/1t-t19-rogue-assassination" title="Assassination">Assassination</a></li> <li><a href="/rogue/combinations/1t-t19-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/combinations/1t-t19-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>PreRaids</b></li> <li><a href="/rogue/combinations/1t-pr-rogue-assassination" title="Assassination">Assassination</a></li> <li><a href="/rogue/combinations/1t-pr-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/combinations/1t-pr-rogue-subtlety" title="Subtlety">Subtlety</a></li> </ul> </li> <li class="dropdown"> <a href="#" class="dropdown-toggle" title="Relics" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Relics <span class="caret"></span> </a> <ul class="dropdown-menu"> <li class="dropdown-header text-center"><b>T21</b></li> <li><a href="/rogue/relics/1t-t21-rogue-assassination-mantle-bracers" title="Assassination">Assassination</a></li> <li><a href="/rogue/relics/1t-t21-rogue-assassination-exsg" title="Assassination Exsg">Assassination Exsg</a></li> <li><a href="/rogue/relics/1t-t21-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/relics/1t-t21-rogue-outlaw-snd" title="Outlaw SnD">Outlaw SnD</a></li> <li><a href="/rogue/relics/1t-t21-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li><a href="/rogue/relics/1t-t21-rogue-subtlety-dfa-mantle-hands" title="Subtlety DfA">Subtlety DfA</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>T20</b></li> <li><a href="/rogue/relics/1t-t20-rogue-assassination" title="Assassination">Assassination</a></li> <li><a href="/rogue/relics/1t-t20-rogue-assassination-exsg" title="Assassination Exsg">Assassination Exsg</a></li> <li><a href="/rogue/relics/1t-t20-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/relics/1t-t20-rogue-outlaw-snd" title="Outlaw SnD">Outlaw SnD</a></li> <li><a href="/rogue/relics/1t-t20-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li><a href="/rogue/relics/1t-t20-rogue-subtlety-dfa" title="Subtlety DfA">Subtlety DfA</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>T19</b></li> <li><a href="/rogue/relics/1t-t19-rogue-assassination" title="Assassination">Assassination</a></li> <li><a href="/rogue/relics/1t-t19-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/relics/1t-t19-rogue-subtlety" title="Subtlety">Subtlety</a></li> </ul> </li> <li class="dropdown"> <a href="#" class="dropdown-toggle" title="Trinkets" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Trinkets <span class="caret"></span> </a> <ul class="dropdown-menu"> <li class="dropdown-header text-center"><b>T21</b></li> <li><a href="/rogue/trinkets/1t-t21-rogue-assassination-mantle-bracers" title="Assassination">Assassination</a></li> <li><a href="/rogue/trinkets/1t-t21-rogue-assassination-exsg" title="Assassination Exsg">Assassination Exsg</a></li> <li><a href="/rogue/trinkets/1t-t21-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/trinkets/1t-t21-rogue-outlaw-snd" title="Outlaw SnD">Outlaw SnD</a></li> <li><a href="/rogue/trinkets/1t-t21-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li><a href="/rogue/trinkets/1t-t21-rogue-subtlety-dfa-mantle-hands" title="Subtlety DfA">Subtlety DfA</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>T20</b></li> <li><a href="/rogue/trinkets/1t-t20-rogue-assassination" title="Assassination">Assassination</a></li> <li><a href="/rogue/trinkets/1t-t20-rogue-assassination-exsg" title="Assassination Exsg">Assassination Exsg</a></li> <li><a href="/rogue/trinkets/1t-t20-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/trinkets/1t-t20-rogue-outlaw-snd" title="Outlaw SnD">Outlaw SnD</a></li> <li><a href="/rogue/trinkets/1t-t20-rogue-subtlety" title="Subtlety">Subtlety</a></li> <li><a href="/rogue/trinkets/1t-t20-rogue-subtlety-dfa" title="Subtlety DfA">Subtlety DfA</a></li> <li role="separator" class="divider"></li> <li class="dropdown-header text-center"><b>T19</b></li> <li><a href="/rogue/trinkets/1t-t19-rogue-assassination" title="Assassination">Assassination</a></li> <li><a href="/rogue/trinkets/1t-t19-rogue-outlaw" title="Outlaw">Outlaw</a></li> <li><a href="/rogue/trinkets/1t-t19-rogue-subtlety" title="Subtlety">Subtlety</a></li> </ul> </li> <li class="dropdown"> <a href="#" class="dropdown-toggle" title="About" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> About <span class="caret"></span> </a> <ul class="dropdown-menu"> <li><a href="/faq">FAQ</a></li> <li><a href="/blog" title="Blog">Blog</a></li> <li><a href="/changelog" title="Changelog">Changelog</a></li> </ul> </li> </ul> </div> </div> </nav> <aside id="sidebar"> <nav> <a href="/death-knight" title="Death Knight"> <figure> <img src="/assets/img/wow-class/death_knight.svg" alt="Death Knight WoW Icon"> <figcaption><h5>Death Knight</h5></figcaption> </figure> </a> <a href="/demon-hunter" title="Demon Hunter"> <figure> <img src="/assets/img/wow-class/demon_hunter.svg" alt="Demon Hunter WoW Icon"> <figcaption><h5>Demon Hunter</h5></figcaption> </figure> </a> <a href="/druid" title="Druid"> <figure> <img src="/assets/img/wow-class/druid.svg" alt="Druid WoW Icon"> <figcaption><h5>Druid</h5></figcaption> </figure> </a> <a href="/hunter" title="Hunter"> <figure> <img src="/assets/img/wow-class/hunter.svg" alt="Hunter WoW Icon"> <figcaption><h5>Hunter</h5></figcaption> </figure> </a> <a href="/mage" title="Mage"> <figure> <img src="/assets/img/wow-class/mage.svg" alt="Mage WoW Icon"> <figcaption><h5>Mage</h5></figcaption> </figure> </a> <a href="/monk" title="Monk"> <figure> <img src="/assets/img/wow-class/monk.svg" alt="Monk WoW Icon"> <figcaption><h5>Monk</h5></figcaption> </figure> </a> <a href="/paladin" title="Paladin"> <figure> <img src="/assets/img/wow-class/paladin.svg" alt="Paladin WoW Icon"> <figcaption><h5>Paladin</h5></figcaption> </figure> </a> <a href="/priest" title="Priest"> <figure> <img src="/assets/img/wow-class/priest.svg" alt="Priest WoW Icon"> <figcaption><h5>Priest</h5></figcaption> </figure> </a> <a href="/rogue" title="Rogue"> <figure> <img src="/assets/img/wow-class/rogue.svg" alt="Rogue WoW Icon"> <figcaption><h5>Rogue</h5></figcaption> </figure> </a> <a href="/shaman" title="Shaman"> <figure> <img src="/assets/img/wow-class/shaman.svg" alt="Shaman WoW Icon"> <figcaption><h5>Shaman</h5></figcaption> </figure> </a> <a href="/warlock" title="Warlock"> <figure> <img src="/assets/img/wow-class/warlock.svg" alt="Warlock WoW Icon"> <figcaption><h5>Warlock</h5></figcaption> </figure> </a> <a href="/warrior" title="Warrior"> <figure> <img src="/assets/img/wow-class/warrior.svg" alt="Warrior WoW Icon"> <figcaption><h5>Warrior</h5></figcaption> </figure> </a> </nav> </aside> <nav id="header" class="navbar navbar-inverse container"> <a href="/rogue" title="Rogue"><img src="/assets/img/wow-class/rogue.svg" alt="Hero Damage Logo" height="150" width="150" itemprop="logo"></a> </nav> </header> <div id="a-top-d" class="container"> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5677349133508739" data-ad-slot="8259895565" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </div> <main> <article id="content" class="container"> <h1 id="fan-of-knives-comparison">Fan of Knives Comparison</h1> <p>With enough Mastery or Poison Knives relics, dropping Mutilate and using Fan of Knives as the main generator actually becomes an increase. If you see variations including “FoK” for Combinations or Relics, those are profiles using Fan of Knives instead of Mutilate.</p> <p>To sim yourself and check whether using FoK as the main builder for Assassination is an increase, you can copy and paste this code after your /simc output. E.g. on Raidbots, open “Advanced”, insert your /simc Addon output and then, right after, the following code.</p> <p>If you click on “Copy”, the input will be automatically copied to your clipboard.</p> <p class="a-inarticle-d"> <ins class="adsbygoogle" style="display:block;text-align:center" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5677349133508739" data-ad-slot="9316992214"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </p> <p>With the <strong>latest Raidbots version set to “Nightly”</strong>, you can simply use:</p> <p class="copybox"> <textarea id="fokstring" class="form-control" rows="2" readonly>
copy=FoK
fok_rotation=1
  </textarea> <button class="btn btn-default" onclick='window.herodamage.copyToClipboard("fokstring")'>Copy</button> </p> <p>With a somewhat older version of SimC, you can use:</p> <p class="copybox"> <textarea id="fokaplstring" class="form-control" rows="16" readonly>
actions.precombat=flask
actions.precombat+=/augmentation
actions.precombat+=/food
# Snapshot raid buffed stats before combat begins and pre-potting is done.
actions.precombat+=/snapshot_stats
actions.precombat+=/apply_poison
actions.precombat+=/stealth
actions.precombat+=/potion
actions.precombat+=/marked_for_death,if=raid_event.adds.in>40

# Executed every time the actor is available.
actions=variable,name=energy_regen_combined,value=energy.regen+poisoned_bleeds*(7+talent.venom_rush.enabled*3)%2
actions+=/variable,name=energy_time_to_max_combined,value=energy.deficit%variable.energy_regen_combined
actions+=/call_action_list,name=cds
actions+=/call_action_list,name=maintain
# The 'active_dot.rupture>=spell_targets.rupture' means that we don't want to envenom as long as we can multi-rupture (i.e. units that don't have rupture yet).
actions+=/call_action_list,name=finish,if=(!talent.exsanguinate.enabled|cooldown.exsanguinate.remains>2)&(!dot.rupture.refreshable|(dot.rupture.exsanguinated&dot.rupture.remains>=3.5)|target.time_to_die-dot.rupture.remains&lt;=6)&active_dot.rupture>=spell_targets.rupture
actions+=/call_action_list,name=build,if=combo_points.deficit>1|energy.deficit&lt;=25+variable.energy_regen_combined

# Builders
actions.build=hemorrhage,if=refreshable
actions.build+=/hemorrhage,cycle_targets=1,if=refreshable&dot.rupture.ticking&spell_targets.fan_of_knives&lt;2+equipped.insignia_of_ravenholdt
actions.build+=/fan_of_knives,if=spell_targets>=2+equipped.insignia_of_ravenholdt|buff.the_dreadlords_deceit.stack>=29
actions.build+=/mutilate,cycle_targets=1,if=dot.deadly_poison_dot.refreshable
actions.build+=/mutilate

# Cooldowns
actions.cds=potion,if=buff.bloodlust.react|target.time_to_die&lt;=60|debuff.vendetta.up&cooldown.vanish.remains&lt;5
actions.cds+=/use_items
actions.cds+=/blood_fury,if=debuff.vendetta.up
actions.cds+=/berserking,if=debuff.vendetta.up
actions.cds+=/arcane_torrent,if=dot.kingsbane.ticking&!buff.envenom.up&energy.deficit>=15+variable.energy_regen_combined*gcd.remains*1.1
actions.cds+=/marked_for_death,target_if=min:target.time_to_die,if=target.time_to_die&lt;combo_points.deficit*1.5|(raid_event.adds.in>40&combo_points.deficit>=cp_max_spend)
actions.cds+=/vendetta,if=!talent.exsanguinate.enabled|dot.rupture.ticking
actions.cds+=/exsanguinate,if=!set_bonus.tier20_4pc&(prev_gcd.1.rupture&dot.rupture.remains>4+4*cp_max_spend&!stealthed.rogue|dot.garrote.pmultiplier>1&!cooldown.vanish.up&buff.subterfuge.up)
actions.cds+=/exsanguinate,if=set_bonus.tier20_4pc&dot.garrote.remains>20&dot.rupture.remains>4+4*cp_max_spend
# Nightstalker w/o Exsanguinate: Vanish Envenom if Mantle & T19_4PC, else Vanish Rupture
actions.cds+=/vanish,if=talent.nightstalker.enabled&combo_points>=cp_max_spend&!talent.exsanguinate.enabled&mantle_duration=0&((equipped.mantle_of_the_master_assassin&set_bonus.tier19_4pc)|((!equipped.mantle_of_the_master_assassin|!set_bonus.tier19_4pc)&(dot.rupture.refreshable|debuff.vendetta.up)))
actions.cds+=/vanish,if=talent.nightstalker.enabled&combo_points>=cp_max_spend&talent.exsanguinate.enabled&cooldown.exsanguinate.remains&lt;1&(dot.rupture.ticking|time>10)
actions.cds+=/vanish,if=talent.subterfuge.enabled&equipped.mantle_of_the_master_assassin&(debuff.vendetta.up|target.time_to_die&lt;10)&mantle_duration=0
actions.cds+=/vanish,if=talent.subterfuge.enabled&!equipped.mantle_of_the_master_assassin&!stealthed.rogue&dot.garrote.refreshable&((spell_targets.fan_of_knives&lt;=3&combo_points.deficit>=1+spell_targets.fan_of_knives)|(spell_targets.fan_of_knives>=4&combo_points.deficit>=4))
actions.cds+=/vanish,if=talent.shadow_focus.enabled&variable.energy_time_to_max_combined>=2&combo_points.deficit>=4
actions.cds+=/toxic_blade,if=combo_points.deficit>=1+(mantle_duration>=0.2)&dot.rupture.remains>8&cooldown.vendetta.remains>10

# Finishers
actions.finish=death_from_above,if=combo_points>=5
actions.finish+=/envenom,if=combo_points>=4+(talent.deeper_stratagem.enabled&!set_bonus.tier19_4pc)&(debuff.vendetta.up|mantle_duration>=0.2|debuff.surge_of_toxins.remains&lt;0.2|energy.deficit&lt;=25+variable.energy_regen_combined)
actions.finish+=/envenom,if=talent.elaborate_planning.enabled&combo_points>=3+!talent.exsanguinate.enabled&buff.elaborate_planning.remains&lt;0.2

# Kingsbane
# Sinister Circulation makes it worth to cast Kingsbane on CD except if you're [stealthed w/ Nighstalker and have Mantle & T19_4PC to Envenom] or before vendetta if you have mantle during the opener.
actions.kb=kingsbane,if=artifact.sinister_circulation.enabled&!(equipped.duskwalkers_footpads&equipped.convergence_of_fates&artifact.master_assassin.rank>=6)&(time>25|!equipped.mantle_of_the_master_assassin|(debuff.vendetta.up&debuff.surge_of_toxins.up))&(talent.subterfuge.enabled|!stealthed.rogue|(talent.nightstalker.enabled&(!equipped.mantle_of_the_master_assassin|!set_bonus.tier19_4pc)))
actions.kb+=/kingsbane,if=buff.envenom.up&((debuff.vendetta.up&debuff.surge_of_toxins.up)|cooldown.vendetta.remains&lt;=5.8|cooldown.vendetta.remains>=10)

# Maintain
actions.maintain=rupture,if=talent.nightstalker.enabled&stealthed.rogue&!set_bonus.tier21_2pc&(!equipped.mantle_of_the_master_assassin|!set_bonus.tier19_4pc)&(talent.exsanguinate.enabled|target.time_to_die-remains>4)
actions.maintain+=/garrote,cycle_targets=1,if=talent.subterfuge.enabled&stealthed.rogue&combo_points.deficit>=1&set_bonus.tier20_4pc&((dot.garrote.remains&lt;=13&!debuff.toxic_blade.up)|pmultiplier&lt;=1)&!exsanguinated
actions.maintain+=/garrote,cycle_targets=1,if=talent.subterfuge.enabled&stealthed.rogue&combo_points.deficit>=1&!set_bonus.tier20_4pc&refreshable&(!exsanguinated|remains&lt;=tick_time*2)&target.time_to_die-remains>2
actions.maintain+=/garrote,cycle_targets=1,if=talent.subterfuge.enabled&stealthed.rogue&combo_points.deficit>=1&!set_bonus.tier20_4pc&remains&lt;=10&pmultiplier&lt;=1&!exsanguinated&target.time_to_die-remains>2
actions.maintain+=/rupture,if=!talent.exsanguinate.enabled&combo_points>=3&!ticking&mantle_duration&lt;=0.2&target.time_to_die>6
actions.maintain+=/rupture,if=talent.exsanguinate.enabled&((combo_points>=cp_max_spend&cooldown.exsanguinate.remains&lt;1)|(!ticking&(time>10|combo_points>=2+artifact.urge_to_kill.enabled)))
actions.maintain+=/rupture,cycle_targets=1,if=combo_points>=4&refreshable&(pmultiplier&lt;=1|remains&lt;=tick_time)&(!exsanguinated|remains&lt;=tick_time*2)&target.time_to_die-remains>6
actions.maintain+=/call_action_list,name=kb,if=combo_points.deficit>=1+(mantle_duration>=0.2)&(!talent.exsanguinate.enabled|!cooldown.exanguinate.up|time>9)
actions.maintain+=/pool_resource,for_next=1
actions.maintain+=/garrote,cycle_targets=1,if=(!talent.subterfuge.enabled|!(cooldown.vanish.up&cooldown.vendetta.remains&lt;=4))&combo_points.deficit>=1&refreshable&(pmultiplier&lt;=1|remains&lt;=tick_time)&(!exsanguinated|remains&lt;=tick_time*2)&target.time_to_die-remains>4
actions.maintain+=/garrote,if=set_bonus.tier20_4pc&talent.exsanguinate.enabled&prev_gcd.1.rupture&cooldown.exsanguinate.remains&lt;1&(!cooldown.vanish.up|time>12)

copy=FoK
actions.precombat=flask
actions.precombat+=/augmentation
actions.precombat+=/food
# Snapshot raid buffed stats before combat begins and pre-potting is done.
actions.precombat+=/snapshot_stats
actions.precombat+=/apply_poison
actions.precombat+=/stealth
actions.precombat+=/potion
actions.precombat+=/marked_for_death,if=raid_event.adds.in>40

# Executed every time the actor is available.
actions=variable,name=energy_regen_combined,value=energy.regen+poisoned_bleeds*(7+talent.venom_rush.enabled*3)%2
actions+=/variable,name=energy_time_to_max_combined,value=energy.deficit%variable.energy_regen_combined
actions+=/call_action_list,name=cds
actions+=/call_action_list,name=maintain
# The 'active_dot.rupture>=spell_targets.rupture' means that we don't want to envenom as long as we can multi-rupture (i.e. units that don't have rupture yet).
actions+=/call_action_list,name=finish,if=(!talent.exsanguinate.enabled|cooldown.exsanguinate.remains>2)&(!dot.rupture.refreshable|(dot.rupture.exsanguinated&dot.rupture.remains>=3.5)|target.time_to_die-dot.rupture.remains&lt;=6)&active_dot.rupture>=spell_targets.rupture
actions+=/call_action_list,name=build,if=combo_points.deficit>1|energy.deficit&lt;=25+variable.energy_regen_combined

# Builders
actions.build=hemorrhage,if=refreshable
actions.build+=/hemorrhage,cycle_targets=1,if=refreshable&dot.rupture.ticking&spell_targets.fan_of_knives&lt;2+equipped.insignia_of_ravenholdt
actions.build+=/fan_of_knives,if=spell_targets>=2+equipped.insignia_of_ravenholdt|buff.the_dreadlords_deceit.stack>=29
actions.build+=/mutilate,cycle_targets=1,if=dot.deadly_poison_dot.refreshable
actions.build+=/fan_of_knives

# Cooldowns
actions.cds=potion,if=buff.bloodlust.react|target.time_to_die&lt;=60|debuff.vendetta.up&cooldown.vanish.remains&lt;5
actions.cds+=/use_items
actions.cds+=/blood_fury,if=debuff.vendetta.up
actions.cds+=/berserking,if=debuff.vendetta.up
actions.cds+=/arcane_torrent,if=dot.kingsbane.ticking&!buff.envenom.up&energy.deficit>=15+variable.energy_regen_combined*gcd.remains*1.1
actions.cds+=/marked_for_death,target_if=min:target.time_to_die,if=target.time_to_die&lt;combo_points.deficit*1.5|(raid_event.adds.in>40&combo_points.deficit>=cp_max_spend)
actions.cds+=/vendetta,if=!talent.exsanguinate.enabled|dot.rupture.ticking
actions.cds+=/exsanguinate,if=!set_bonus.tier20_4pc&(prev_gcd.1.rupture&dot.rupture.remains>4+4*cp_max_spend&!stealthed.rogue|dot.garrote.pmultiplier>1&!cooldown.vanish.up&buff.subterfuge.up)
actions.cds+=/exsanguinate,if=set_bonus.tier20_4pc&dot.garrote.remains>20&dot.rupture.remains>4+4*cp_max_spend
# Nightstalker w/o Exsanguinate: Vanish Envenom if Mantle & T19_4PC, else Vanish Rupture
actions.cds+=/vanish,if=talent.nightstalker.enabled&combo_points>=cp_max_spend&!talent.exsanguinate.enabled&mantle_duration=0&((equipped.mantle_of_the_master_assassin&set_bonus.tier19_4pc)|((!equipped.mantle_of_the_master_assassin|!set_bonus.tier19_4pc)&(dot.rupture.refreshable|debuff.vendetta.up)))
actions.cds+=/vanish,if=talent.nightstalker.enabled&combo_points>=cp_max_spend&talent.exsanguinate.enabled&cooldown.exsanguinate.remains&lt;1&(dot.rupture.ticking|time>10)
actions.cds+=/vanish,if=talent.subterfuge.enabled&equipped.mantle_of_the_master_assassin&(debuff.vendetta.up|target.time_to_die&lt;10)&mantle_duration=0
actions.cds+=/vanish,if=talent.subterfuge.enabled&!equipped.mantle_of_the_master_assassin&!stealthed.rogue&dot.garrote.refreshable&((spell_targets.fan_of_knives&lt;=3&combo_points.deficit>=1+spell_targets.fan_of_knives)|(spell_targets.fan_of_knives>=4&combo_points.deficit>=4))
actions.cds+=/vanish,if=talent.shadow_focus.enabled&variable.energy_time_to_max_combined>=2&combo_points.deficit>=4
actions.cds+=/toxic_blade,if=combo_points.deficit>=1+(mantle_duration>=0.2)&dot.rupture.remains>8&cooldown.vendetta.remains>10

# Finishers
actions.finish=death_from_above,if=combo_points>=5
actions.finish+=/envenom,if=combo_points>=4+(talent.deeper_stratagem.enabled&!set_bonus.tier19_4pc)&(debuff.vendetta.up|mantle_duration>=0.2|debuff.surge_of_toxins.remains&lt;0.2|energy.deficit&lt;=25+variable.energy_regen_combined)
actions.finish+=/envenom,if=talent.elaborate_planning.enabled&combo_points>=3+!talent.exsanguinate.enabled&buff.elaborate_planning.remains&lt;0.2

# Kingsbane
# Sinister Circulation makes it worth to cast Kingsbane on CD except if you're [stealthed w/ Nighstalker and have Mantle & T19_4PC to Envenom] or before vendetta if you have mantle during the opener.
actions.kb=kingsbane,if=artifact.sinister_circulation.enabled&!(equipped.duskwalkers_footpads&equipped.convergence_of_fates&artifact.master_assassin.rank>=6)&(time>25|!equipped.mantle_of_the_master_assassin|(debuff.vendetta.up&debuff.surge_of_toxins.up))&(talent.subterfuge.enabled|!stealthed.rogue|(talent.nightstalker.enabled&(!equipped.mantle_of_the_master_assassin|!set_bonus.tier19_4pc)))
actions.kb+=/kingsbane,if=buff.envenom.up&((debuff.vendetta.up&debuff.surge_of_toxins.up)|cooldown.vendetta.remains&lt;=5.8|cooldown.vendetta.remains>=10)

# Maintain
actions.maintain=rupture,if=talent.nightstalker.enabled&stealthed.rogue&!set_bonus.tier21_2pc&(!equipped.mantle_of_the_master_assassin|!set_bonus.tier19_4pc)&(talent.exsanguinate.enabled|target.time_to_die-remains>4)
actions.maintain+=/garrote,cycle_targets=1,if=talent.subterfuge.enabled&stealthed.rogue&combo_points.deficit>=1&set_bonus.tier20_4pc&((dot.garrote.remains&lt;=13&!debuff.toxic_blade.up)|pmultiplier&lt;=1)&!exsanguinated
actions.maintain+=/garrote,cycle_targets=1,if=talent.subterfuge.enabled&stealthed.rogue&combo_points.deficit>=1&!set_bonus.tier20_4pc&refreshable&(!exsanguinated|remains&lt;=tick_time*2)&target.time_to_die-remains>2
actions.maintain+=/garrote,cycle_targets=1,if=talent.subterfuge.enabled&stealthed.rogue&combo_points.deficit>=1&!set_bonus.tier20_4pc&remains&lt;=10&pmultiplier&lt;=1&!exsanguinated&target.time_to_die-remains>2
actions.maintain+=/rupture,if=!talent.exsanguinate.enabled&combo_points>=3&!ticking&mantle_duration&lt;=0.2&target.time_to_die>6
actions.maintain+=/rupture,if=talent.exsanguinate.enabled&((combo_points>=cp_max_spend&cooldown.exsanguinate.remains&lt;1)|(!ticking&(time>10|combo_points>=2+artifact.urge_to_kill.enabled)))
actions.maintain+=/rupture,cycle_targets=1,if=combo_points>=4&refreshable&(pmultiplier&lt;=1|remains&lt;=tick_time)&(!exsanguinated|remains&lt;=tick_time*2)&target.time_to_die-remains>6
actions.maintain+=/call_action_list,name=kb,if=combo_points.deficit>=1+(mantle_duration>=0.2)&(!talent.exsanguinate.enabled|!cooldown.exanguinate.up|time>9)
actions.maintain+=/pool_resource,for_next=1
actions.maintain+=/garrote,cycle_targets=1,if=(!talent.subterfuge.enabled|!(cooldown.vanish.up&cooldown.vendetta.remains&lt;=4))&combo_points.deficit>=1&refreshable&(pmultiplier&lt;=1|remains&lt;=tick_time)&(!exsanguinated|remains&lt;=tick_time*2)&target.time_to_die-remains>4
actions.maintain+=/garrote,if=set_bonus.tier20_4pc&talent.exsanguinate.enabled&prev_gcd.1.rupture&cooldown.exsanguinate.remains&lt;1&(!cooldown.vanish.up|time>12)
  </textarea> <button class="btn btn-default" onclick='window.herodamage.copyToClipboard("fokaplstring")'>Copy</button> </p> </article> </main> <div id="a-bot-d" class="container"> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5677349133508739" data-ad-slot="8934153725" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </div> <footer class="container"> <p>© 2017 Hero Damage | <a href="https://github.com/SimCMinMax/herodamage" title="Hero Damage GitHub Repository" target="_blank" rel="nofollow">GitHub</a></p> </footer> <script>window.addEventListener("load",function(){setTimeout(function(){for(var e=document.querySelectorAll("ins.adsbygoogle"),n=0;n<e.length;n++){var a=e[n];if(a&&0==a.innerHTML.replace(/\s/g,"").length){var i=document.createElement("p");i.className="blockers-text",i.innerHTML="Hero Damage is made possible by displaying online advertisements.<br>Please consider supporting us by disabling your ad blocker.",a.parentElement.appendChild(i)}}},1500)})</script> <link href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.4/cookieconsent.min.css" rel="stylesheet" type="text/css"> <script async src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.4/cookieconsent.min.js"></script> <script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#222222"},button:{background:"#EEEEEE"}}})})</script> </body> </html>